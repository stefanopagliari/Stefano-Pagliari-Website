<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 11 Grouping and Summarising Data | IP2038 - Analysing Political and Economic Data in the Real World - Course Material</title>
<meta name="author" content="Stefano Pagliari">
<meta name="description" content="11.1 Introduction This chapter will explore different tools to group and create summarise our data: The group_by() function adds information into a data object (e.g. a data frame or tibble), which...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 11 Grouping and Summarising Data | IP2038 - Analysing Political and Economic Data in the Real World - Course Material">
<meta property="og:type" content="book">
<meta property="og:description" content="11.1 Introduction This chapter will explore different tools to group and create summarise our data: The group_by() function adds information into a data object (e.g. a data frame or tibble), which...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 11 Grouping and Summarising Data | IP2038 - Analysing Political and Economic Data in the Real World - Course Material">
<meta name="twitter:description" content="11.1 Introduction This chapter will explore different tools to group and create summarise our data: The group_by() function adds information into a data object (e.g. a data frame or tibble), which...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">IP2038 - Analysing Political and Economic Data in the Real World - Course Material</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction to the Module</a></li>
<li class="book-part">Introduction to R</li>
<li><a class="" href="rstudio-and-rstudio-cloud.html"><span class="header-section-number">2</span> RStudio and RStudio Cloud</a></li>
<li><a class="" href="getting-started-with-r.html"><span class="header-section-number">3</span> Getting Started with R</a></li>
<li class="book-part">Datasets</li>
<li><a class="" href="importing-data-into-r.html"><span class="header-section-number">4</span> Importing Data into R</a></li>
<li><a class="" href="inspecting-a-dataset.html"><span class="header-section-number">5</span> Inspecting a Dataset</a></li>
<li><a class="" href="long-vs.-wide-data.html"><span class="header-section-number">6</span> Long vs. Wide Data</a></li>
<li><a class="" href="list-of-political-and-economic-datasets.html"><span class="header-section-number">7</span> List of Political and Economic Datasets</a></li>
<li class="book-part">Data Wrangling</li>
<li><a class="" href="data-wrangling-with-dplyr.html"><span class="header-section-number">8</span> Data Wrangling with dplyr</a></li>
<li><a class="" href="working-with-observations.html"><span class="header-section-number">9</span> Working with Observations</a></li>
<li><a class="" href="working-with-variables.html"><span class="header-section-number">10</span> Working with Variables</a></li>
<li><a class="active" href="grouping-and-summarising-data.html"><span class="header-section-number">11</span> Grouping and Summarising Data</a></li>
<li><a class="" href="relational-data.html"><span class="header-section-number">12</span> Relational Data</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">13</span> Missing Data</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="data-visualization-with-ggplot.html"><span class="header-section-number">14</span> Data Visualization with ggplot</a></li>
<li><a class="" href="types-of-visualizations.html"><span class="header-section-number">15</span> Types of visualizations</a></li>
<li class="book-part">Exploratory Analysis</li>
<li><a class="" href="exploring-numerical-data.html"><span class="header-section-number">16</span> Exploring Numerical Data</a></li>
<li><a class="" href="exploring-categorical-data.html"><span class="header-section-number">17</span> Exploring Categorical Data</a></li>
<li><a class="" href="relationship-between-categorical-and-numerical-variables.html"><span class="header-section-number">18</span> Relationship between categorical and numerical variables</a></li>
<li><a class="" href="relationship-between-numerical-variables.html"><span class="header-section-number">19</span> Relationship between numerical variables</a></li>
<li><a class="" href="relationship-between-categorical-variables.html"><span class="header-section-number">20</span> Relationship between categorical variables</a></li>
<li><a class="" href="time-series.html"><span class="header-section-number">21</span> Time Series</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="assessment-guidance.html"><span class="header-section-number">A</span> Assessment Guidance</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="grouping-and-summarising-data" class="section level1" number="11">
<h1>
<span class="header-section-number">11</span> Grouping and Summarising Data<a class="anchor" aria-label="anchor" href="#grouping-and-summarising-data"><i class="fas fa-link"></i></a>
</h1>
<div id="introduction-2" class="section level2" number="11.1">
<h2>
<span class="header-section-number">11.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-2"><i class="fas fa-link"></i></a>
</h2>
<p>This chapter will explore different tools to group and create summarise our data:</p>
<ul>
<li>The <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> function adds information into a data object (e.g. a data frame or tibble), which makes subsequent calculations happen on a group-specific basis.</li>
<li>The <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function is a data reduction function calculates single-number summaries of one or more variables, respecting the group structure if present.</li>
</ul>
<div id="getting-started-2" class="section level3" number="11.1.1">
<h3>
<span class="header-section-number">11.1.1</span> Getting Started<a class="anchor" aria-label="anchor" href="#getting-started-2"><i class="fas fa-link"></i></a>
</h3>
<p>A script that uses dplyr will typically start by loading and attaching the package:</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org">"dplyr"</a></span><span class="op">)</span></code></pre></div>
<p>The dplyr package is also part of the tidyverse package, and it can be loaded from there. Remember that you will need first to have first installed dplyr package for this to work.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyverse.tidyverse.org">"tidyverse"</a></span><span class="op">)</span></code></pre></div>
<p>We’ll use the <code>gapminder</code> data set in the datasets package to illustrate the working of the functions presented in this chapter. This is loaded from the <code>gapminder</code> package. We can also store the dataset in an object called gapminder, although this is not required.</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/jennybc/gapminder">"gapminder"</a></span><span class="op">)</span>
<span class="va">gapminder</span> <span class="op">&lt;-</span> <span class="va">gapminder</span></code></pre></div>
</div>
</div>
<div id="summarising-variables-with-summarise" class="section level2" number="11.2">
<h2>
<span class="header-section-number">11.2</span> Summarising variables with <code>summarise</code><a class="anchor" aria-label="anchor" href="#summarising-variables-with-summarise"><i class="fas fa-link"></i></a>
</h2>
<p>We can use summarise to calculate summaries of variables in our dataset.</p>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function takes the following argument:</p>
<p><code>dataset %&gt;% summarise(&lt;expression1&gt;, &lt;expression2&gt;)</code></p>
<p>Here <code>&lt;expression1&gt;</code> are <code>&lt;expression2&gt;</code>are placeholder for functions or other operations that we want to perform on our data.</p>
<p>For instance, in the example below we take the gapminder dataset and we use the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function to calculate the average value of the life expectancy variable, as well as the highest/ and lowest value of the same variable</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
                    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
                    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 1 × 3</span>
<span class="co">#&gt;   `mean(lifeExp)` `min(lifeExp)` `max(lifeExp)`</span>
<span class="co">#&gt;             &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1            59.5           23.6           82.6</span></code></pre></div>
<p>The <code>summarise</code> function returns a table with only one row and three columns, one of each of the operations we specified (<code>mean</code>, <code>min</code>, <code>max</code>).
The order of the expression in the resulting table is the same as the order in which they were used as arguments.</p>
<p>Notice that <code>summarise</code> used the expressions to name the variables. We can name the new variables at the same time as they are created by using <code>=</code>, placing the name we require on the left hand side. For example:</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
                    min_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
                    max_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 1 × 3</span>
<span class="co">#&gt;   mean_le min_le max_le</span>
<span class="co">#&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1    59.5   23.6   82.6</span></code></pre></div>
<p>There are very many base R functions that can be used with summarise. A few useful ones for calculating summaries of numeric variables are:</p>
<ul>
<li>
<code>min</code> and <code>max</code> calculate the minimum and maximum values of a vector.</li>
<li>
<code>mean</code> and <code>median</code> calculate the mean and median of a numeric vector.</li>
<li>
<code>sd</code> and <code>var</code> calculate the standard deviation and variance of a numeric vector.</li>
</ul>
</div>
<div id="summarise-across-groups-using-group_by" class="section level2" number="11.3">
<h2>
<span class="header-section-number">11.3</span> Summarise Across Groups using <code>group_by</code><a class="anchor" aria-label="anchor" href="#summarise-across-groups-using-group_by"><i class="fas fa-link"></i></a>
</h2>
<p>In the same way in which we can construct numerical summaries for numeric variables, we can also apply the same calculations and functions to subsets of the same data depending on the values of the categorical variable.</p>
<div class="inline-figure"><img src="images/Summarise_Dplyr.png" style="width:80.0%"></div>
<p>Often we need to aggregate the observations in our data in order to gain some insights into the differences across different groups.</p>
<p>For instance, looking at the gapminder dataset we may want to know how life expectancy varies across different continents, rather than knowing the overall mean of these traits across all observations. We could calculate separate means by using filter to create different subsets of gapminder, and then using summary on each of these to calculate the relevant means. This however would be inefficient.</p>
<p>The function <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> allow us to group all the observations in our dataset that correspond to a particular value or set of values.</p>
<p>For instance, calling the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> function for the <code>gapminder</code> dataset and specifying the <code>continent</code> variable will group all the observations where this variable takes the same value (e.g. all the observation for African countries, Asian countries, European countries, etc…)</p>
<p><img src="images/dplyr_groupby.png" style="width:80.0%"><a href="https://swcarpentry.github.io/r-novice-gapminder/13-dplyr/">source</a>
Once we have specified how our data should be grouped, we can use this in conjunction with the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function. This variable allows us to create new variable(s) by applying transformations to variables in each of our groups (for example, for our continent-specific data frames).</p>
<p><img src="images/dplyr_Groupby_summarize.png" style="width:80.0%"><a href="https://swcarpentry.github.io/r-novice-gapminder/13-dplyr/">source</a></p>
<p>When we used summarise on an ungrouped table the result was a new table with one row. Now the resulting tibble has five rows, one for each value of type (in this case one for each continent).</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 × 2</span>
<span class="co">#&gt;   continent mean_le</span>
<span class="co">#&gt;   &lt;fct&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Africa       48.9</span>
<span class="co">#&gt; 2 Americas     64.7</span>
<span class="co">#&gt; 3 Asia         60.1</span>
<span class="co">#&gt; 4 Europe       71.9</span>
<span class="co">#&gt; 5 Oceania      74.3</span></code></pre></div>
<div id="grouping-by-multiple-variables" class="section level3" number="11.3.1">
<h3>
<span class="header-section-number">11.3.1</span> Grouping by multiple variables<a class="anchor" aria-label="anchor" href="#grouping-by-multiple-variables"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> also to create sub-groups based on the variable of a particular variable, and to run subsequent functions on all sub-groups.</p>
<p>For instance, in the example below, instead of calculating the average value of all the observations that belongs to the same continent, we group the observations only by <code>continent</code> and by <code>year</code> before calculating the average <code>gdpPercap</code>. This transformation results into the creation of a dataset where the rows represents each unique combination of the values available for these variables (e.g. Africa in 1957, Asia in 1992).</p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span>, <span class="va">year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_gdpPercap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 60 × 3</span>
<span class="co">#&gt; # Groups:   continent [5]</span>
<span class="co">#&gt;    continent  year mean_gdpPercap</span>
<span class="co">#&gt;    &lt;fct&gt;     &lt;int&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Africa     1952          1253.</span>
<span class="co">#&gt;  2 Africa     1957          1385.</span>
<span class="co">#&gt;  3 Africa     1962          1598.</span>
<span class="co">#&gt;  4 Africa     1967          2050.</span>
<span class="co">#&gt;  5 Africa     1972          2340.</span>
<span class="co">#&gt;  6 Africa     1977          2586.</span>
<span class="co">#&gt;  7 Africa     1982          2482.</span>
<span class="co">#&gt;  8 Africa     1987          2283.</span>
<span class="co">#&gt;  9 Africa     1992          2282.</span>
<span class="co">#&gt; 10 Africa     1997          2379.</span>
<span class="co">#&gt; # … with 50 more rows</span></code></pre></div>
</div>
<div id="summarizing-different-variables" class="section level3" number="11.3.2">
<h3>
<span class="header-section-number">11.3.2</span> Summarizing different variables<a class="anchor" aria-label="anchor" href="#summarizing-different-variables"><i class="fas fa-link"></i></a>
</h3>
<p>When you use the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function it is possible to define different new variables at the same time.</p>
<p>For instance, in this example, after we grouped together different observations with the same value for the <code>continent</code> variable, we can calculate the average, lowest, and highest life expectancy (<code>lifeExp</code> variable) among all the observations of that group.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
              min_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
              max_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 5 × 4</span>
<span class="co">#&gt;   continent mean_le min_le max_le</span>
<span class="co">#&gt;   &lt;fct&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Africa       48.9   23.6   76.4</span>
<span class="co">#&gt; 2 Americas     64.7   37.6   80.7</span>
<span class="co">#&gt; 3 Asia         60.1   28.8   82.6</span>
<span class="co">#&gt; 4 Europe       71.9   43.6   81.8</span>
<span class="co">#&gt; 5 Oceania      74.3   69.1   81.2</span></code></pre></div>
</div>
</div>
<div id="summarize-vs-mutate" class="section level2" number="11.4">
<h2>
<span class="header-section-number">11.4</span> <code>summarize()</code> vs <code>mutate()</code><a class="anchor" aria-label="anchor" href="#summarize-vs-mutate"><i class="fas fa-link"></i></a>
</h2>
<p>Both <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> can be used to create new variables in a dataset. It can be confusing to decide which one is appropriate. The key distinction is whether you want the output to have one row for each group or one row for each row in the original data frame.</p>
<p>When applied with grouped data, mutate creates new columns with as many rows as the original data frame.To do this, group_by() can be combined with mutate(), to make a new column of summary statistics (repeated many times) corresponding to the sub-grouping of interest.</p>
<p>When applied with grouped data, summarize creates a data frame with as many rows as groups. The output of <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> is generally a smaller dataframe with a reduced representation of the input data.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="working-with-variables.html"><span class="header-section-number">10</span> Working with Variables</a></div>
<div class="next"><a href="relational-data.html"><span class="header-section-number">12</span> Relational Data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#grouping-and-summarising-data"><span class="header-section-number">11</span> Grouping and Summarising Data</a></li>
<li>
<a class="nav-link" href="#introduction-2"><span class="header-section-number">11.1</span> Introduction</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#getting-started-2"><span class="header-section-number">11.1.1</span> Getting Started</a></li></ul>
</li>
<li><a class="nav-link" href="#summarising-variables-with-summarise"><span class="header-section-number">11.2</span> Summarising variables with summarise</a></li>
<li>
<a class="nav-link" href="#summarise-across-groups-using-group_by"><span class="header-section-number">11.3</span> Summarise Across Groups using group_by</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#grouping-by-multiple-variables"><span class="header-section-number">11.3.1</span> Grouping by multiple variables</a></li>
<li><a class="nav-link" href="#summarizing-different-variables"><span class="header-section-number">11.3.2</span> Summarizing different variables</a></li>
</ul>
</li>
<li><a class="nav-link" href="#summarize-vs-mutate"><span class="header-section-number">11.4</span> summarize() vs mutate()</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>IP2038 - Analysing Political and Economic Data in the Real World - Course Material</strong>" was written by Stefano Pagliari. It was last built on 2022-03-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
