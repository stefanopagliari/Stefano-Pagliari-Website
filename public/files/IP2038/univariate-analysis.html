<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 12 Univariate Analysis | IP2038 - Analysing Political and Economic Data in the Real World - Course Material</title>
<meta name="author" content="Stefano Pagliari">
<meta name="description" content="12.1 Visualizations of Numerical Data When analyzing a variable, one of the main things we want to know is how the data is distributed. In this section we will show examples of how to create...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 12 Univariate Analysis | IP2038 - Analysing Political and Economic Data in the Real World - Course Material">
<meta property="og:type" content="book">
<meta property="og:description" content="12.1 Visualizations of Numerical Data When analyzing a variable, one of the main things we want to know is how the data is distributed. In this section we will show examples of how to create...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 12 Univariate Analysis | IP2038 - Analysing Political and Economic Data in the Real World - Course Material">
<meta name="twitter:description" content="12.1 Visualizations of Numerical Data When analyzing a variable, one of the main things we want to know is how the data is distributed. In this section we will show examples of how to create...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">IP2038 - Analysing Political and Economic Data in the Real World - Course Material</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction to the Module</a></li>
<li><a class="" href="rstudio-and-rstudio-cloud.html"><span class="header-section-number">2</span> RStudio and RStudio Cloud</a></li>
<li><a class="" href="getting-started-with-r.html"><span class="header-section-number">3</span> Getting Started with R</a></li>
<li><a class="" href="importing-data-into-r.html"><span class="header-section-number">4</span> Importing Data into R</a></li>
<li><a class="" href="inspecting-a-dataset.html"><span class="header-section-number">5</span> Inspecting a Dataset</a></li>
<li><a class="" href="data-visualization-with-ggplot.html"><span class="header-section-number">6</span> Data Visualization with ggplot</a></li>
<li><a class="" href="types-of-visualizations.html"><span class="header-section-number">7</span> Types of visualizations</a></li>
<li><a class="" href="data-wrangling-with-dplyr.html"><span class="header-section-number">8</span> Data Wrangling with dplyr</a></li>
<li><a class="" href="reshaping-the-data.html"><span class="header-section-number">9</span> Reshaping the data</a></li>
<li><a class="" href="relational-data.html"><span class="header-section-number">10</span> Relational Data</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">11</span> Missing Data</a></li>
<li><a class="active" href="univariate-analysis.html"><span class="header-section-number">12</span> Univariate Analysis</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="assessment-guidance.html"><span class="header-section-number">A</span> Assessment Guidance</a></li>
<li><a class="" href="list-of-datasets.html"><span class="header-section-number">B</span> List of Datasets</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="univariate-analysis" class="section level1" number="12">
<h1>
<span class="header-section-number">12</span> Univariate Analysis<a class="anchor" aria-label="anchor" href="#univariate-analysis"><i class="fas fa-link"></i></a>
</h1>
<div id="visualizations-of-numerical-data" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> Visualizations of Numerical Data<a class="anchor" aria-label="anchor" href="#visualizations-of-numerical-data"><i class="fas fa-link"></i></a>
</h2>
<p>When analyzing a variable, one of the main things we want to know is how the data is distributed.
In this section we will show examples of how to create graphical displays of a single variable - with examples for both quantitative and categorical variables.</p>
<p>A number of plots and summary statistics are available to explore the distribution of our data. The extent to which they are appropriate often depends on the type of variable.</p>
<div id="dot-plot" class="section level3" number="12.1.1">
<h3>
<span class="header-section-number">12.1.1</span> Dot Plot<a class="anchor" aria-label="anchor" href="#dot-plot"><i class="fas fa-link"></i></a>
</h3>
<p>The dot plot is one of the most basic visualizations to display the distribution of a single numerical variable. This visualization uses a dot to display the value of each observation. The position of this dot on x-axis reflects the value of the selected for the observatation.</p>
<p>In R, we can draw a dot plot with <code>ggplot2</code> using the <code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code>.</p>
<p>In the example below we load the “gapminder” dataset and show the distribution of life expectancy across different countries in the year 1997</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; ── Attaching packages ─────────────────── tidyverse 1.3.1 ──</span>
<span class="co">#&gt; ✓ ggplot2 3.3.5     ✓ purrr   0.3.4</span>
<span class="co">#&gt; ✓ tibble  3.1.6     ✓ dplyr   1.0.7</span>
<span class="co">#&gt; ✓ tidyr   1.1.4     ✓ stringr 1.4.0</span>
<span class="co">#&gt; ✓ readr   2.1.1     ✓ forcats 0.5.1</span>
<span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span>


<span class="va">gap_1997</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">1997</span><span class="op">)</span> 

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gap_1997</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Life Expectancy (years)"</span>,
       y <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span>
<span class="co">#&gt; Bin width defaults to 1/30 of the range of the data. Pick better value with `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-1-1.png" width="672"></div>
</div>
<div id="histogram" class="section level3" number="12.1.2">
<h3>
<span class="header-section-number">12.1.2</span> Histogram<a class="anchor" aria-label="anchor" href="#histogram"><i class="fas fa-link"></i></a>
</h3>
<p>Dotplots are helpful to visualize small datasets but are harder to read when we are dealing with a larger number of observations. In these cases, fitting different values into “bins” is more appropriate. This visualization is known as histogranm</p>
<p>While a dot plot shows the value of each observation, a histogram represents a continuous variable by allocating the different observations into different segments or “bins”. The height of the bar reflects the count of number of observations belonging to that bin in the data. Higher bars represent where the data are relatively more common.</p>
<p>Histograms can be built with <code>ggplot2</code> thanks to the <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code> geom. It requires only a single numeric variable to be mapped as input. This function automatically cut the variable in bins and count the number of data point per bin.</p>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span>  
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span>
<span class="co">#&gt; `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-2-1.png" width="672"></div>
<div id="bin-size" class="section level4" number="12.1.2.1">
<h4>
<span class="header-section-number">12.1.2.1</span> Bin Size<a class="anchor" aria-label="anchor" href="#bin-size"><i class="fas fa-link"></i></a>
</h4>
<p>When drawing a histogram, one important decision is how finely to bin the data. The bin size can have a big impact on the histogram appearance.
For instance, the two graphs below illustrate the distribution of the same variable while changing the size of the bins. In the first case, the different values are divided across 10 bins. In the second case they are divided across 60 bins.</p>
<p>You change the size of the bin using the <code>binwidth</code> argument of the geom_histogram function. You can also specify the number of bins using <code>bins=</code> in the geom_histogram function.</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co">#set the bins</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-3-1.png" width="672"></div>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">60</span><span class="op">)</span> <span class="co">#set the bins</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
</div>
</div>
<div id="density-plot" class="section level3" number="12.1.3">
<h3>
<span class="header-section-number">12.1.3</span> Density Plot<a class="anchor" aria-label="anchor" href="#density-plot"><i class="fas fa-link"></i></a>
</h3>
<p>When working with a continuous variable, an alternative to binning the data into a histogram is to draw smoothed version of the same histogram by drawing a kernel density estimate of the same distribution. In ggplot() this can be done using the geom <code>geom_density(</code>.</p>
<p>This transformation requires a smoothing parameter to be selected to determine how smooth or sharp the curve will be. By default ggplot adopts a smoothing parameter (called rule-of-thumb) but this can be changed manually if needed.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="co">#select the geom</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-5-1.png" width="672"></div>
</div>
<div id="box-plot" class="section level3" number="12.1.4">
<h3>
<span class="header-section-number">12.1.4</span> Box plot<a class="anchor" aria-label="anchor" href="#box-plot"><i class="fas fa-link"></i></a>
</h3>
<p>The boxplot is a frequently used visualization to compactly display the distribution of a continuous variable. It visualises five summary statistics (the median, two hinges and two whiskers), and all “outlying” points individually.</p>
<div class="inline-figure"><img src="images/InterquartileRange.png" style="width:70.0%"></div>
<p>In a box plot, the length of the box is called the interquartile range (IQR). The more variable is the data, the longer the length of the box will be.</p>
<p>The two boundaries of the box represent the first quartile (the 25th percentile, i.e., 25% of the data fall below this value) and the third quartile (the 75th percentile, i.e., 75% of the data fall below this value). The central line of the box represents the median value for the distribution.</p>
<p>Outside the box, the whiskers of a box plot reach to the minimum and the maximum values in the data, unless there are are data points that are potential outliers, that is values that are considered particularly high or low compared to the rest of the distribution. In this case, outliers are labelled with a dot. By visualising the outliers separately, the boxplot is helpful to identify those observations that are unusually high/low compared to the rest of the distribution.</p>
<p>We can draw a boxplot in ggplot using the geom <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code>. This requires one numerical variable to be mapped to either the <code>x</code> aesthetic (for a vertical orientation) or the <code>y</code> aesthetic (for a horizontal orientation)</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the geom </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Life Expectancy"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<p>It is possible to further augment the visualization of the distribution in a boxplot by overlaying points on top. We do this by adding a layer with includes the geom <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>.Note the <code>position=position_jitter</code> option to the geom_point puts some random horizontal jitter so that the points don’t overlay each other. The points has an argument alpha=0.5 signifying a slightly transparent plot symbol.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">gap_1997</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">1997</span><span class="op">)</span> 

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gap_1997</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the geom </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.5</span>, position<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html">position_jitter</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Life Expectancy"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
</div>
</div>
<div id="visualizations-of-categorical-data" class="section level2" number="12.2">
<h2>
<span class="header-section-number">12.2</span> Visualizations of Categorical Data<a class="anchor" aria-label="anchor" href="#visualizations-of-categorical-data"><i class="fas fa-link"></i></a>
</h2>
<div id="bar-chart" class="section level3" number="12.2.1">
<h3>
<span class="header-section-number">12.2.1</span> Bar Chart<a class="anchor" aria-label="anchor" href="#bar-chart"><i class="fas fa-link"></i></a>
</h3>
<p>A common visual tool to display the distribution of values in a categorical variable is through a bar chart.</p>
<p>A bar chart can be plotted in ggplot using the geom <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code>.</p>
<p>This function requires a single categorical variable to be mapped to the <code>x</code> aestetic within the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function.</p>
<p>Behind the scenes, the geom calculates the number of individual set of observations for each level of the selected variable, and makes the height of the bar proportional to this value.</p>
<p>For instance in the example below we visualize the distribution of the <code>continent</code> variable in the gapminder dataset, filtering for a single year. The resulting bar chart produce a different bar for each of the values in the selected variable, while the height is proportional to the number of types each value occurs. In this case the height of each bar represents the number of countries that belong to each of the five continents.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">gap_2007</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">1997</span><span class="op">)</span>

<span class="co">#Plotting geom_bar without count variable</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gap_2007</span>, 
       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       x<span class="op">=</span><span class="st">"Continent"</span>, 
       y<span class="op">=</span><span class="st">"Frequency"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>
</div>
<div id="relative-frequencies" class="section level3" number="12.2.2">
<h3>
<span class="header-section-number">12.2.2</span> Relative Frequencies<a class="anchor" aria-label="anchor" href="#relative-frequencies"><i class="fas fa-link"></i></a>
</h3>
<p>While by default <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code> visualizes a count of the number of observations associated with different values in the selected variable, in some cases we may want to chart the relative frequencies.</p>
<p>We can let geom_bar do the calculation by specifying within the function that the height of the bar should be a proportion, adding <code>y = ..prop..</code>,as in the example below.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"> 
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">..prop..</span>, group <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       x<span class="op">=</span><span class="st">"Continent"</span>, 
       y<span class="op">=</span><span class="st">"Percentage"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-9-1.png" width="672"></div>
</div>
<div id="geom_col" class="section level3" number="12.2.3">
<h3>
<span class="header-section-number">12.2.3</span> <code>geom_col()</code><a class="anchor" aria-label="anchor" href="#geom_col"><i class="fas fa-link"></i></a>
</h3>
<p>When we call geom_bar(), ggplot behind the scenes calculates the counts or proportions it displays. When the information we want to use to determine the heights of the bars is already stored in a variable in our dataset, we can use a related geom called <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code></p>
<p>This function requires the following variables to be mapped within the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function:</p>
<ul>
<li>
<code>x</code> = the categorical variable to be mapped on the x axis</li>
<li>
<code>y</code> = the height of the bars</li>
</ul>
<p>For instance, in the example below we replicate the previous visualization but we first create a new dataset that contains a variable <code>Continent_Count</code> that contains a count of the number of observations for each continent, and then calculate the percentage of all the observations that are associated with each continent in the variable <code>Pct_Continent</code>. This variable is then mapped to the y axis.
The expression <code>scale_y_continuous(labels = scales::percent)</code> is added to change the label of the y axis to from a simple number (e.g. 0.3) to a percentage (e.g. 30%).</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create new dataset with  count variable</span>
<span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">1997</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span> <span class="op">(</span>Continent_Count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Pct_Continent <span class="op">=</span> <span class="va">Continent_Count</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Continent_Count</span><span class="op">)</span><span class="op">)</span>

<span class="co">#Plot with ggplot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ds</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">continent</span>, y<span class="op">=</span> <span class="va">Pct_Continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/label_percent.html">percent</a></span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       x<span class="op">=</span><span class="st">"Continent"</span>, 
       y<span class="op">=</span><span class="st">"Percentage"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
</div>
<div id="horizontal-bars" class="section level3" number="12.2.4">
<h3>
<span class="header-section-number">12.2.4</span> Horizontal bars<a class="anchor" aria-label="anchor" href="#horizontal-bars"><i class="fas fa-link"></i></a>
</h3>
<p>Sometimes it is more convenient to have the bars oriented horizontally. In this case we set up the aesthetic mappings as usual and then flip the axes with the <code><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip()</a></code> command.</p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-11-1.png" width="672"></div>
</div>
<div id="ordering-the-bars" class="section level3" number="12.2.5">
<h3>
<span class="header-section-number">12.2.5</span> Ordering the bars<a class="anchor" aria-label="anchor" href="#ordering-the-bars"><i class="fas fa-link"></i></a>
</h3>
<p><code>ggplot2</code> does not order the bars in the order you observe in your data frame. Sorting your data frame with <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> will not have any impact on your ggplot2 output. In order to change the order of the bars, we can use the function <code><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder()</a></code>. For instance, in the example below we map the x axis to <code>x = reorder(continent, -Count_Continent)</code>, which is the list of continent reordered according to the value on the variable <code>Count_Continent</code>. The <code>-</code> sign indicates a descending order.</p>
<p>You can reorder the bars based on a value:</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Gap_Count</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Count_Continent <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> 

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Gap_Count</span>,
       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">continent</span>, <span class="op">-</span><span class="va">Count_Continent</span><span class="op">)</span>, 
                     y <span class="op">=</span> <span class="va">Count_Continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       x<span class="op">=</span><span class="st">"Continent"</span>, 
       y<span class="op">=</span><span class="st">"Frequency"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-12-1.png" width="672"></div>
<p>It is also possible to reorder the bars manually. <code>ggplot2</code> does not order the bars in the order you observe in your data frame. Sorting your data frame with <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> will not have any impact on your ggplot2 output. In order to change the order of the bars, we can use the function <code><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder()</a></code>. For instance, in the example below we map the x axis to <code>x = reorder(continent, -Count_Continent)</code>, which is the list of continent reordered according to the value on the variable <code>Count_Continent</code>. The <code>-</code> sign indicates a descending order.</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html">fct_relevel</a></span><span class="op">(</span><span class="va">continent</span>, <span class="st">"Africa"</span>,
                             <span class="st">"Americas"</span>,
                             <span class="st">"Asia"</span>,
                             <span class="st">"Europe"</span>,
                             <span class="st">"Oceania"</span><span class="op">)</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-13-1.png" width="672"></div>
</div>
<div id="pie-chart" class="section level3" number="12.2.6">
<h3>
<span class="header-section-number">12.2.6</span> Pie Chart<a class="anchor" aria-label="anchor" href="#pie-chart"><i class="fas fa-link"></i></a>
</h3>
<p>A pie chart can be used to represent the same information as a bar chart. While pie charts are helpful to provide an overview of the main cases, they are less clear than bar charts when it comes with comparing the size of different groups.</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Gap_Count</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Count_Continent <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Perc_Continent <span class="op">=</span> <span class="va">Count_Continent</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Count_Continent</span><span class="op">)</span><span class="op">)</span>


<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Gap_Count</span>, 
       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">""</span>, y<span class="op">=</span><span class="va">Perc_Continent</span>, fill<span class="op">=</span><span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span><span class="st">"y"</span>, start<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       y<span class="op">=</span><span class="st">"Percentage"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-14-1.png" width="672"></div>
</div>
</div>
<div id="measures-of-central-tendency" class="section level2" number="12.3">
<h2>
<span class="header-section-number">12.3</span> Measures of Central Tendency<a class="anchor" aria-label="anchor" href="#measures-of-central-tendency"><i class="fas fa-link"></i></a>
</h2>
<p>When analyzing a variable, measures of central tendency are used to identify the central or typical value in a distribution.</p>
<p>There are several ways to measure the central tendency. The measure you use depends on 1) the kind of data (numerical vs. categorical) and 2) presence of outliers</p>
<div id="numerical-data-mean-and-median" class="section level3" number="12.3.1">
<h3>
<span class="header-section-number">12.3.1</span> Numerical Data: Mean and Median<a class="anchor" aria-label="anchor" href="#numerical-data-mean-and-median"><i class="fas fa-link"></i></a>
</h3>
<p>.</p>
<p>When working with numerical data, the most common measures used to identify the central tendency are the <strong>mean</strong> and the <strong>median</strong>.</p>
<p>The average (mean) is the most common way to identify a measure of central tendency in the case of a continuous variable.
The calculation of mean tends to be more significantly influenced by the presence of outliers. For instance, the presence of extremely high value could pull the mean up. When variables have extreme values, we may want to use a different measure of central tendency: the median.</p>
<p>The median is calculated by arranging the data in order from lowest to highest value, then finding the value of the middle case, that is, the case at the 50th percentile.
If the data contains an odd number of cases, the median is the middle data point, with an equal number of cases to each side. For example, in the case of the following distribution (1, 2, 3, 4, 5, 6, 7, 8, 9), the median is 5.
If the data contains an even number of cases, the median is the average of the two middle cases. For example, in the case of the following distribution (1, 2, 3, 4, 5, 6, 7, 8, 10), the median is the average of the two central values (5, 6), that is 5.5.</p>
<p>The median is called robust statistic because extreme observations have little effect on their values: moving the most extreme value generally has little influence on this central tendency measure compared to the mean. While this is an advantage when outliers are not representative of what we are observing, in many cases extreme values are important for our analysis.</p>
<p>In R, these two measures of central tendency can be calculated using the respective function <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> and <code><a href="https://rdrr.io/r/stats/median.html">median()</a></code> applied to a numerical vector.</p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create numerical vector</span>
<span class="va">vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">vector</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span>
<span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">vector</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span></code></pre></div>
<p>When working with a dataset, we can calculate the mean for a variable using the function <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> from the dplyr package.</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_lifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,
              median_lifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 2</span>
<span class="co">#&gt;   mean_lifeExp median_lifeExp</span>
<span class="co">#&gt;          &lt;dbl&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1         59.5           60.7</span></code></pre></div>
<p>We can overlay the mean and/or the median value to a histogram by using the geom <code>geom_vline</code>, mapping the position of the line (<code>xintercept</code>) to the value of the mean.</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">-</span><span class="fl">5</span>, 
                           y <span class="op">=</span> <span class="fl">140</span>, 
                           label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Mean = "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, 
             colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">+</span><span class="fl">5</span>, 
                           y <span class="op">=</span> <span class="fl">140</span>, 
                           label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Median = "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, 
             colour <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> 
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span>
<span class="co">#&gt; `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-17-1.png" width="672"></div>
</div>
<div id="categorical-data-mode" class="section level3" number="12.3.2">
<h3>
<span class="header-section-number">12.3.2</span> Categorical Data: Mode<a class="anchor" aria-label="anchor" href="#categorical-data-mode"><i class="fas fa-link"></i></a>
</h3>
<p>When we are analysing categorical data, we cannot calculate the mean or the median.
In this case we want to know which category holds the most observations. The value that appears most often in a set of data values is known as the <code>mode</code>.</p>
<p>To get the mode, we can calculate how many cases fall into each category of our categorical variable of interest</p>
<p>For instance, let’s look at the gapminder data, and identify the frequency of different continents.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 × 2</span>
<span class="co">#&gt;   continent     n</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1 Africa       52</span>
<span class="co">#&gt; 2 Americas     25</span>
<span class="co">#&gt; 3 Asia         33</span>
<span class="co">#&gt; 4 Europe       30</span>
<span class="co">#&gt; 5 Oceania       2</span></code></pre></div>
<p>We can visually illustrate the distribution of a categorical variable using a bar chart. Please note that the order</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="va">Gap_Count</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Count_Continent <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> 

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Gap_Count</span>,
       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">continent</span>, <span class="op">-</span><span class="va">Count_Continent</span><span class="op">)</span>, 
                     y <span class="op">=</span> <span class="va">Count_Continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Countries in Each Continent"</span>,
       subtitle <span class="op">=</span> <span class="st">"Year = 1997"</span>,
       caption <span class="op">=</span> <span class="st">"Gapminder data"</span>,
       x<span class="op">=</span><span class="st">"Continent"</span>, 
       y<span class="op">=</span><span class="st">"Frequency"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-19-1.png" width="672"></div>
</div>
</div>
<div id="measures-of-dispersion" class="section level2" number="12.4">
<h2>
<span class="header-section-number">12.4</span> Measures of Dispersion<a class="anchor" aria-label="anchor" href="#measures-of-dispersion"><i class="fas fa-link"></i></a>
</h2>
<p>Once we have identified the central tendency measure of a variable, we want to know the typical distance of the values from the this measure.</p>
<p>For instance, when studying economic inequality in a country we might know what is the average level of inequality across all regions, but in preparing policy we might want to know whether all regions in our country have generally the same average rate or rather they vary quite dramatically in their rates.</p>
<div id="range" class="section level3" number="12.4.1">
<h3>
<span class="header-section-number">12.4.1</span> Range<a class="anchor" aria-label="anchor" href="#range"><i class="fas fa-link"></i></a>
</h3>
<p>The range is a measure that captures the distance between the minimum and the maximum value in a distribution.</p>
<p>This measure can be useful to identifying the the lowest and highest extremes in the data we are looking. For instance, when examining GDP per capita across the world in given period, the range will give an indication of the difference between the poorest and the richest countries.</p>
<p>There are different ways to identify the range in R.</p>
<p>The <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> function identifies the lowest value in a numerical vector or in a variable of a dataset.</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">lifeExp</span><span class="op">)</span>
<span class="co">#&gt; [1] 23.599</span>

<span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>minLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   minLifeExp</span>
<span class="co">#&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt; 1       23.6</span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code> function identifies the highest value in a numerical vector or in a variable of a dataset.</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>maxLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   maxLifeExp</span>
<span class="co">#&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt; 1       82.6</span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/base/range.html">range()</a></code> function identifies both the lowest and the highest values in a numerical vector or in a variable of a dataset.</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>rangeLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 × 1</span>
<span class="co">#&gt;   rangeLifeExp</span>
<span class="co">#&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1         23.6</span>
<span class="co">#&gt; 2         82.6</span></code></pre></div>
</div>
<div id="inter-quartile-range" class="section level3" number="12.4.2">
<h3>
<span class="header-section-number">12.4.2</span> Inter-Quartile Range<a class="anchor" aria-label="anchor" href="#inter-quartile-range"><i class="fas fa-link"></i></a>
</h3>
<p>Knowing the range of values in our distribution and the median is helpful but it does not provide us with information on where most values like.
For instance, are many observations closer to the extreme values? or are most values to the central (median) value? The inter-quartile range provides that information.</p>
<p>Similarly to the median, the inter-quartile range is based on the order of the observations and how they relate to each other.
Distinct from the median, instead of focusing on the middle case, the inter-quartile range identifies the values at the 25th and 75th percentile case and calculates the range between them. In other words, this is where the middle half of the data lie.</p>
<p>Similarly to the median, the inter-quartile range is not sensitive to outliers. As the value of any outlier at the upper end of the distribution grows or at the lower end of the distribution decrease, the middle half of the data stays the same.</p>
<p>It is possible to calculate the inter-quartile range in R using the <code><a href="https://rdrr.io/r/stats/IQR.html">IQR()</a></code> function.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>IQRLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   IQRLifeExp</span>
<span class="co">#&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt; 1       22.6</span></code></pre></div>
</div>
<div id="standard-deviation" class="section level3" number="12.4.3">
<h3>
<span class="header-section-number">12.4.3</span> Standard Deviation<a class="anchor" aria-label="anchor" href="#standard-deviation"><i class="fas fa-link"></i></a>
</h3>
<p>While the mean and median are helpful tools to describe the center of a variable, often it is also important to observe the variability of data.</p>
<p>The standard deviation is an often-used summary of dispersion of a variable. It roughly describes how far away the typical observation is from the mean. As the average distance between all cases and the mean grows, so does the dispersion and spread of the data around the mean.</p>
<p>More specifically, the standard deviation is calculated as follow
<span class="math display">\[ 
\sigma_x = \sqrt{\frac{{\sum_{i}(x_i -\overline{x})^2}}{n}}
\]</span></p>
<p>• Calculate the distance of each observation from the mean
• Square the distance for each observation
• Sum the squared distances for each observation
• Divide by the number of observations
• Take the square root</p>
<p>It is possible to calculate the standard deviation in R using the <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code> function.</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>sdLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   sdLifeExp</span>
<span class="co">#&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1      12.9</span></code></pre></div>
</div>
</div>
<div id="skewness" class="section level2" number="12.5">
<h2>
<span class="header-section-number">12.5</span> Skewness<a class="anchor" aria-label="anchor" href="#skewness"><i class="fas fa-link"></i></a>
</h2>
<p>Skewness is a measure of the symmetry of a data distribution.</p>
<p>When the distribution of a variable trails off has a longer right tail, the shape is said to be right skewed or to have positive skewness. Positive skewness would indicate that the mean of the data values is larger than the media. Right skewed distributions are fairly common in the economic data and they often indicate the presence of a handful of exceptionally high outliers. For example, distribution of income and wealth in many societies are often characterized by a number of extremely high values which raise the average above the median value.</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gap_2007</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gap_2007</span>,  <span class="co">#Select the dataset to be plotted</span>
    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#select the variables to be plotted in </span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">-</span><span class="fl">5</span>, 
                           y <span class="op">=</span> <span class="fl">35</span>, 
                           label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Mean = "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, 
             colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">+</span><span class="fl">5</span>, 
                           y <span class="op">=</span> <span class="fl">40</span>, 
                           label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Median = "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, 
             colour <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> 
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span>
<span class="co">#&gt; `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="9_UnivariateNumericalVariable_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
<p>Instead, variables with a loner tail to the left are left skewed (negative skewness). Negative skewness indicates that the mean of the data values is less than the median, and the data distribution is left-skewed.</p>
<div class="inline-figure"><img src="images/Skewness.jpeg" style="width:80.0%"></div>
<p>The term “normal distribution” indicates a case where the distribution of values does not have a positive or negative skew but rather it is a symmetrical bell curve:</p>
<ul>
<li>most observations lie around the mean</li>
<li>where the mean is equal to the median</li>
<li>very few observations lie at the extremes</li>
</ul>
<p>While the extent to which the distribution can often be easily assessed by plotting a histogram, a descriptive statistics can also be calculated using the <code><a href="https://rdrr.io/pkg/moments/man/skewness.html">skewness()</a></code> function which is part of the <code>moments</code> package. A negative value means the distribution is negatively skewed. A positive value means the distribution is positively skewed. The larger the value, the larger the distribution differs from a normal distribution.</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co">#install.packages("moments")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.r-project.org">moments</a></span><span class="op">)</span>

<span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>skewnessLifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/moments/man/skewness.html">skewness</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   skewnessLifeExp</span>
<span class="co">#&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt; 1          -0.252</span></code></pre></div>
</div>
<div id="modality" class="section level2" number="12.6">
<h2>
<span class="header-section-number">12.6</span> Modality<a class="anchor" aria-label="anchor" href="#modality"><i class="fas fa-link"></i></a>
</h2>
<p>The modality of a distribution is determined by the number of peaks it contains.</p>
<p>A distribution with a single “peak” is called unimodal.
A distribution with two prominent peaks is called bimodal. Any distribution with more than two prominent peaks is called multimodal.</p>
<div class="inline-figure">
<img src="images/unimodal%20vs%20bimodal%20vs%20multimodal%20distribution.png" style="width:90.0%">(Source: Çetinkaya-Rundel and Hardin, 2022, p. 82)</div>
</div>
<div id="summary-statistics-for-numerical-variable" class="section level2" number="12.7">
<h2>
<span class="header-section-number">12.7</span> Summary Statistics for Numerical Variable<a class="anchor" aria-label="anchor" href="#summary-statistics-for-numerical-variable"><i class="fas fa-link"></i></a>
</h2>
<p>There are different tools available in R to produce a table that includes one or more of the summary statistics listed in this page</p>
<div id="summary" class="section level3" number="12.7.1">
<h3>
<span class="header-section-number">12.7.1</span> Summary()<a class="anchor" aria-label="anchor" href="#summary"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function provides an overview of a number of key summary statistics, including the minimum value, the maximum value, the mean, and the median.
While passing the name of the entire dataset to the function will generate a summary for all the variables, it is possible to print to the console the results for only one variable by adding a <code>$</code> between the name of the dataset (in the case below <code>gapminder</code>) and the name of the function (in the case below <code>lifeExp</code>)</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">lifeExp</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;   23.60   48.20   60.71   59.47   70.85   82.60</span></code></pre></div>
<p>alternatively the same outcome can be achieved by first isolating the variable of interest using <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> from the <code>dplyr</code> package and then calling the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="dplyr-summarise-function" class="section level3" number="12.7.2">
<h3>
<span class="header-section-number">12.7.2</span> Dplyr Summarise function<a class="anchor" aria-label="anchor" href="#dplyr-summarise-function"><i class="fas fa-link"></i></a>
</h3>
<p>It is also possible to use the dplyr package summarise command in the analysis pipeline system.</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">1997</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>meanLE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lifeExp</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,
                       medLE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">lifeExp</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,
                       sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">lifeExp</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,
                       iqr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">lifeExp</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,
                      Q1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">lifeExp</span>,probs<span class="op">=</span><span class="fl">0.25</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,
                      Q3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">lifeExp</span>,probs<span class="op">=</span><span class="fl">0.75</span><span class="op">)</span>,
                      numObs<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 7</span>
<span class="co">#&gt;   meanLE medLE    sd   iqr    Q1    Q3 numObs</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1   65.0  69.4  11.6  18.5  55.6  74.2    142</span></code></pre></div>
</div>
<div id="skimr" class="section level3" number="12.7.3">
<h3>
<span class="header-section-number">12.7.3</span> Skimr<a class="anchor" aria-label="anchor" href="#skimr"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>skimr</code> package can also be used to produce summary statistics about variables.
In the code below, the function <code><a href="https://docs.ropensci.org/skimr/reference/skim.html">skim()</a></code> is applied to the variable lifeExp to produce a series of descriptive statistics for two numeric variables (<code>gdpPercap</code> and <code>lifeExp</code>).</p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/skimr/">skimr</a></span><span class="op">)</span>
<span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">lifeExp</span>, <span class="va">gdpPercap</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://docs.ropensci.org/skimr/reference/skim.html">skim</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-30">Table 12.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">1704</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table></div>
<p><strong>Variable type: numeric</strong></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">lifeExp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">59.47</td>
<td align="right">12.92</td>
<td align="right">23.60</td>
<td align="right">48.20</td>
<td align="right">60.71</td>
<td align="right">70.85</td>
<td align="right">82.6</td>
<td align="left">▁▆▇▇▇</td>
</tr>
<tr class="even">
<td align="left">gdpPercap</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7215.33</td>
<td align="right">9857.45</td>
<td align="right">241.17</td>
<td align="right">1202.06</td>
<td align="right">3531.85</td>
<td align="right">9325.46</td>
<td align="right">113523.1</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>



<div class="chapter-nav">
<div class="prev"><a href="missing-data.html"><span class="header-section-number">11</span> Missing Data</a></div>
<div class="next"><a href="assessment-guidance.html"><span class="header-section-number">A</span> Assessment Guidance</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#univariate-analysis"><span class="header-section-number">12</span> Univariate Analysis</a></li>
<li>
<a class="nav-link" href="#visualizations-of-numerical-data"><span class="header-section-number">12.1</span> Visualizations of Numerical Data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#dot-plot"><span class="header-section-number">12.1.1</span> Dot Plot</a></li>
<li><a class="nav-link" href="#histogram"><span class="header-section-number">12.1.2</span> Histogram</a></li>
<li><a class="nav-link" href="#density-plot"><span class="header-section-number">12.1.3</span> Density Plot</a></li>
<li><a class="nav-link" href="#box-plot"><span class="header-section-number">12.1.4</span> Box plot</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#visualizations-of-categorical-data"><span class="header-section-number">12.2</span> Visualizations of Categorical Data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#bar-chart"><span class="header-section-number">12.2.1</span> Bar Chart</a></li>
<li><a class="nav-link" href="#relative-frequencies"><span class="header-section-number">12.2.2</span> Relative Frequencies</a></li>
<li><a class="nav-link" href="#geom_col"><span class="header-section-number">12.2.3</span> geom_col()</a></li>
<li><a class="nav-link" href="#horizontal-bars"><span class="header-section-number">12.2.4</span> Horizontal bars</a></li>
<li><a class="nav-link" href="#ordering-the-bars"><span class="header-section-number">12.2.5</span> Ordering the bars</a></li>
<li><a class="nav-link" href="#pie-chart"><span class="header-section-number">12.2.6</span> Pie Chart</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#measures-of-central-tendency"><span class="header-section-number">12.3</span> Measures of Central Tendency</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#numerical-data-mean-and-median"><span class="header-section-number">12.3.1</span> Numerical Data: Mean and Median</a></li>
<li><a class="nav-link" href="#categorical-data-mode"><span class="header-section-number">12.3.2</span> Categorical Data: Mode</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#measures-of-dispersion"><span class="header-section-number">12.4</span> Measures of Dispersion</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#range"><span class="header-section-number">12.4.1</span> Range</a></li>
<li><a class="nav-link" href="#inter-quartile-range"><span class="header-section-number">12.4.2</span> Inter-Quartile Range</a></li>
<li><a class="nav-link" href="#standard-deviation"><span class="header-section-number">12.4.3</span> Standard Deviation</a></li>
</ul>
</li>
<li><a class="nav-link" href="#skewness"><span class="header-section-number">12.5</span> Skewness</a></li>
<li><a class="nav-link" href="#modality"><span class="header-section-number">12.6</span> Modality</a></li>
<li>
<a class="nav-link" href="#summary-statistics-for-numerical-variable"><span class="header-section-number">12.7</span> Summary Statistics for Numerical Variable</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#summary"><span class="header-section-number">12.7.1</span> Summary()</a></li>
<li><a class="nav-link" href="#dplyr-summarise-function"><span class="header-section-number">12.7.2</span> Dplyr Summarise function</a></li>
<li><a class="nav-link" href="#skimr"><span class="header-section-number">12.7.3</span> Skimr</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>
</div>
  

  

</div>
 <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>IP2038 - Analysing Political and Economic Data in the Real World - Course Material</strong>" was written by Stefano Pagliari. It was last built on 2022-03-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
